[TOC]
# 数据仓库中的模型设计

## 前言
数据仓库包含的内容很多，比如系统架构、建模和方法论。对应到具体工作中的话，它可以包含下面的这些内容：

1. 以Hadoop、Spark、Hive等组件为中心的数据架构体系
2. 调度系统、元数据系统、ETL系统这类辅助系统
3. 各种数据建模方法，如维度建模

## 范式模型
范式是数据库逻辑模型设计的基本理论，一个关系模型可以从第一范式到第五范式进行无损分解。在数据仓库的模型设计中目前一般采用第三范式。一个符合第三范式的关系具有以下三个条件 :

* 数据库表的每一列都是不可分割的基本数据项，同一列中不能有多个值
* 数据库表中的每个实例或行必须可以被惟一地区分
* 数据库表中不包含已在其它表中已包含的非主关键字信息。
* 
我们提到的范式模型由数据仓库之父 Inmon 提倡 ，可以大致地按照OLTP设计中的3NF来理解，它在范式理论上符合3NF，它与OLTP系统中的3NF的区别在于数据仓库中的3NF上站在企业角度面向主题的抽象，而不是针对某个具体业务流程的实体对象关系抽象，它更多的是面向数据的整合和一致性治理。

关于范式模型，在有些文章里面也叫ER模型、实体模型，感觉很多描述都很接近，就不再区分了。

## 维度模型
维度模型是数据仓库领域另一位大师 Ralph Kimball 所倡导，他的《The DataWarehouse Toolkit-The Complete Guide to Dimensona Modeling，中文名《数据仓库工具箱》，是数据仓库工程领域最流行的数仓建模经典。

维度模型的典型代表是我们比较熟知的星形模型，以及在一些特殊场景下适用的雪花模型和星座模型。维度模型里面有两个十分重要的概念：`事实表`和`维度表`

**事实表：**

> 发生在现实世界中的操作型事件，其所产生的可度量数值，存储在事实表中。从最低的粒度级别来看，事实表行对应一个度量事件，反之亦然。

**维度表：**

> 每个维度表都包含单一的主键列。维度表的主键可以作为与之关联的任何事实表的外键，当然，维度表行的描述环境应与事实表行完全对应。 维度表通常比较宽，是扁平型非规范表，包含大量的低粒度的文本属性。。

## 参考地址
[数据仓库中的模型设计](https://blog.csdn.net/MrZhangBaby/article/details/102689060)